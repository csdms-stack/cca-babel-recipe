language: java
os:
- linux
- osx
env:
  global:
  - THIS_PACKAGE=cca-babel
  - BUILD_STR="dev"
  - TRAVIS_PYTHON_VERSION="2.7"
  - NUMPY_VERSION="1.9"
  - secure: X901dQM3vAHWlAAnOtaFqANd9Eu5B8rx6Lol3H3tHlGY96v4xf0kjd/SlTLtRMjX4tDatLyLuuxAU2afrNACwklzJafA5xXy0wkvj/7XsU0SOJdlUQ8xxaqemppuompcgFgweC5MYIlQfY+9LC0EP0IBSJKxrTCIn9VTDgvuLtzbBe3yEYWjxWPsoJVOqe8/43WianGgHgOo25w+2j+NN+1DiASehfn9b6BqXLmYZKwajBZEG7rcWbBr05B5uqprTJWxgJ09mWZ+VhK9RRKsGLhyAF9tQquTaTg9xUxREsrHMHrRj+ESXG4R/k623g+yAJ7I8DB0ND2rMXhCwKX3fDo9JyKRm90BI56La96ZS7aoJTybyy0WRyyEbMSp+kZ/+rrqh25sVk/jRK+4NR4p+STjuvsR5eczffv1N9cwmfc/mcoZ+QVZJ8cr90NUSzhIBaYU5iTv6fdujMaBPnp1t6HhHoTbrraEENJYbn6TEVUrgsFCSjmBwlUIIc1zDXBUYtvDmqwITHSZqvwwcivPRQ46Cv3y8hYxZfsNEkpVON8TdlwgdJr7RtLuCfupgLihyHiL0Wil9MpC4JS+EbA8XjowFTgd9HV2fSZXeigcYD1fn9031MLkqUp2PFh2f3Ol7nFjRK2HP+aRCcRzcdzapvTh6AhWGjalUFzulsAXm3w=
sudo: false
install:
- bash ci/travis/install_python.sh $HOME/miniconda
- export PATH="$HOME/miniconda/bin:$PATH"
script:
- conda build recipe -c conda-forge -c csdms/channel/dev -c csdms
after_success:
- if [[ $TRAVIS_BRANCH == "master" ]]; then export CHANNEL="main"; fi
- bash ci/travis/deploy_to_anaconda.sh $THIS_PACKAGE
